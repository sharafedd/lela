/* Tailwind v4 zero-config */
@tailwind base;
@tailwind components;
@tailwind utilities;

@source "../**/*.{ts,tsx,js,jsx,mdx}";
@source "../../**/*.{ts,tsx,js,jsx,mdx}";

/* ===== Theme tokens (more purple) ===== */
:root{
  /* Brand spectrum */
  --brand-700:#6D28D9;
  --brand-600:#7C3AED;
  --brand-500:#8B5CF6;
  --brand-400:#A78BFA;
  --brand:var(--brand-600);

  /* Neutrals with purple tint */
  --bg:#0a0910;          /* slightly violet black */
  --surface:#111018;     /* cards */
  --surface-2:#0f0e16;   /* alt cards */
  --border:#2a2536;

  --text:#ECEAF7;
  --muted:#B3ACCC;
}

html{ color-scheme:dark; }

/* Subtle purple glow background */
body{
  background: var(--bg);
  color: var(--text);
  background-image:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in srgb, var(--brand-600) 10%, transparent) 0%, transparent 70%),
    radial-gradient(1000px 500px at 80% -20%, color-mix(in srgb, var(--brand-700) 12%, transparent) 0%, transparent 70%);
  background-repeat: no-repeat;
}

/* Layout helpers */
.header-accent{
  height:8px;
  background:linear-gradient(90deg,var(--brand-700),var(--brand-600),var(--brand-400));
}
.shell{ max-width:72rem; margin-inline:auto; padding-inline:1.25rem; }

/* Surfaces (purple-tinted) */
.card{
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 90%, var(--brand-700) 10%);
  border-radius:1rem;
}
.section{
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--surface-2) 85%, var(--brand-700) 15%);
  border-radius:1rem;
  backdrop-filter: blur(8px);
}

/* Hover lift helper for cards/buttons */
.hover-ring-brand{ transition: box-shadow .2s, border-color .2s, transform .2s; }
.hover-ring-brand:hover{
  box-shadow: 0 8px 40px -12px color-mix(in srgb, var(--brand-500) 65%, transparent);
  border-color: color-mix(in srgb, var(--brand-500) 65%, var(--border));
  transform: translateY(-1px);
}

/* Buttons */
.btn{ @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition; }
.btn-primary{
  background: var(--brand-600); color:#fff;
  box-shadow: 0 8px 34px -14px color-mix(in srgb, var(--brand-600) 70%, transparent);
}
.btn-primary:hover{ background: var(--brand-500); }
.btn-ghost{
  border:1px solid var(--border); color:var(--text);
  background: color-mix(in srgb, var(--surface) 92%, var(--brand-700) 8%);
}
.btn-ghost:hover{ border-color: color-mix(in srgb, var(--brand-500) 50%, var(--border)); }
.btn:active { transform: translateY(0.5px); }

/* Inputs (forms plugin styles respected) */
input, textarea, select{
  background: color-mix(in srgb, var(--surface-2) 85%, var(--brand-700) 15%) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}
input::placeholder, textarea::placeholder{ color: var(--muted); opacity: 1; }
input:focus, textarea:focus, select:focus{
  outline:none;
  box-shadow:0 0 0 2px color-mix(in srgb, var(--brand-500) 50%, transparent);
  border-color: color-mix(in srgb, var(--brand-500) 65%, var(--border));
}

/* Links */
a{ color: var(--brand-400); }
a:hover{ color: var(--brand-500); }

/* Typography */
.prose{ @apply prose-invert; }
.prose a{ color: var(--brand-400); }
.prose a:hover{ color: var(--brand-500); }

/* Badges */
.badge{
  background: color-mix(in srgb, var(--brand-600) 18%, #000);
  color: color-mix(in srgb, var(--brand-400) 90%, #fff);
  border:1px solid color-mix(in srgb, var(--brand-500) 35%, var(--border));
  @apply text-xs px-2 py-0.5 rounded-md;
}

/* Logo sizing */
.logo     { width: clamp(56px, 6vw, 80px); height: clamp(56px, 6vw, 80px); }
.logo--sm { width: clamp(40px, 5vw, 56px); height: clamp(40px, 5vw, 56px); }

/* Nice selection + consistent borders */
::selection{ background: color-mix(in srgb, var(--brand-500) 35%, transparent); }
img, .border { border-color: var(--border); }

/* Safe fallback if color-mix unsupported */
@supports not (background: color-mix(in srgb, white, black)){
  .card{ background: var(--surface); }
  .section{ background: var(--surface-2); }
}

:focus-visible { outline: none !important; box-shadow: 0 0 0 2px color-mix(in srgb, var(--brand-500) 50%, transparent); }

html { scroll-behavior: smooth; }
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
}

/* Footer icon hover micro-interaction */
.footer-icon { display:inline-block; vertical-align:middle; }
.footer a:hover .footer-icon,
.footer-link:hover .footer-icon { transform: translateY(-1px) scale(1.05); transition: transform .15s; }

/* ---- Premium CTA (fixed clipping) ---- */
.premium-cta{
  --gold-1:#FFCF6E;
  --gold-2:#FBBF24;
  --gold-3:#F59E0B;
  --plum-1:#191125;
  --plum-2:#241539;

  position:relative;
  display:inline-flex;
  align-items:center;
  gap:.6rem;
  padding:.7rem 1.05rem;
  border-radius:14px;
  border:1px solid color-mix(in srgb, var(--brand) 45%, #000);
  background:
    radial-gradient(120% 140% at 0% 0%, color-mix(in srgb, var(--brand) 22%, transparent) 0%, transparent 60%),
    linear-gradient(180deg, var(--plum-1) 0%, var(--plum-2) 100%);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--brand) 35%, transparent) inset,
    0 14px 40px -16px color-mix(in srgb, var(--brand) 70%, transparent);
  text-decoration:none;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;

  /* NEW: contain the sheen/glow so it doesn't spill into neighbors */
  overflow: hidden;          /* <— clips ::before / ::after */
  isolation: isolate;        /* <— creates its own stacking context */
  z-index: 0;                /* keep pseudo-elements behind content */
}

.premium-cta:hover{
  transform:translateY(-1px) scale(1.02);
  border-color: color-mix(in srgb, var(--brand) 60%, #6b21a8);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--brand) 50%, transparent) inset,
    0 18px 48px -16px color-mix(in srgb, var(--brand) 85%, transparent),
    0 0 32px -12px color-mix(in srgb, var(--brand) 55%, transparent);
}

.premium-cta:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--brand) 70%, #fff),
    0 12px 36px -14px color-mix(in srgb, var(--brand) 85%, transparent);
}

.premium-cta__label{
  font-weight:800;
  letter-spacing:.2px;
  background: linear-gradient(90deg, var(--gold-1), var(--gold-2), var(--gold-1));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  text-shadow: 0 0 14px rgba(251,191,36,.20);
}
.premium-cta__crown svg{
  color: var(--gold-3);
  filter: drop-shadow(0 0 8px rgba(245,158,11,.55));
}

/* Halo — keep subtle but clip within the button */
.premium-cta::before{
  content:"";
  position:absolute; inset:-2px;        /* was -6px; keep small */
  border-radius:18px;
  background: radial-gradient(80% 60% at 50% -10%, color-mix(in srgb, var(--brand) 40%, transparent), transparent 70%);
  filter: blur(10px);
  opacity:.45;
  pointer-events:none;
  z-index:-1;                            /* behind content */
}

/* Sheen sweep — clipped by overflow */
.premium-cta::after{
  content:"";
  position:absolute; top:0; bottom:0;
  left:-110%; width:220%;               /* explicit width to avoid layout quirks */
  background: linear-gradient(75deg, transparent 0%, rgba(255,255,255,.22) 45%, transparent 55%);
  transform: skewX(-20deg);
  transition:left .6s ease;
  border-radius: inherit;
  pointer-events:none;
}
.premium-cta:hover::after{ left:110%; }

@media (prefers-reduced-motion: reduce){
  .premium-cta, .premium-cta:hover, .premium-cta::after{ transition:none; transform:none; }
}

/* ===== Header Premium CTA ===== */
.header-premium{
  --gold-1:#FFD579;
  --gold-2:#FBBF24;  /* amber-400 */
  --gold-3:#F59E0B;  /* amber-500 */
  --plum-1:#191125;
  --plum-2:#241539;

  position:relative;
  display:inline-flex;
  align-items:center;
  gap:.6rem;
  padding:.35rem .8rem;
  border-radius:12px;
  border:1px solid color-mix(in srgb, var(--brand) 45%, #000);
  background: linear-gradient(180deg, var(--plum-1), var(--plum-2));
  box-shadow: 0 10px 28px -16px color-mix(in srgb, var(--brand) 80%, transparent);
  text-decoration:none;
  overflow:hidden;          /* keep glow inside */
  isolation:isolate;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.header-premium:hover{
  transform:translateY(-1px);
  border-color: color-mix(in srgb, var(--brand) 65%, #000);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--brand) 45%, transparent) inset,
    0 14px 36px -16px color-mix(in srgb, var(--brand) 85%, transparent);
}

.header-premium__title{ display:flex; flex-direction:column; line-height:1; }
.header-premium__top{ font-size:.72rem; font-weight:800; letter-spacing:.08em; color:#fff; }
.header-premium__bottom{
  font-weight:900; font-size:.95rem;
  background: linear-gradient(90deg, var(--gold-1), var(--gold-2), var(--gold-1));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  text-shadow: 0 0 12px rgba(251,191,36,.25);
}

.header-premium__crown svg{ color:var(--gold-3); filter:drop-shadow(0 0 6px rgba(245,158,11,.55)); }
.header-premium__gem   svg{ color:var(--gold-2); filter:drop-shadow(0 0 6px rgba(251,191,36,.45)); }

/* subtle sheen */
.header-premium::after{
  content:"";
  position:absolute; inset:0;
  left:-120%; width:220%;
  background: linear-gradient(75deg, transparent 0%, rgba(255,255,255,.18) 45%, transparent 55%);
  transform: skewX(-18deg);
  transition:left .55s ease;
  pointer-events:none;
}
.header-premium:hover::after{ left:120%; }

/* Responsive: compress to one line on small screens */
@media (max-width: 640px){
  .header-premium__top{ display:none; }
  .header-premium__bottom{ font-size:.9rem; }
}
